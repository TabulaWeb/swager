<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style/index.css">
    <title>swager</title>
</head>
<body>
    <div class="title">
        <h1>API по откупам</h1>
    </div>
    <header>
        <div class="container">
            <div class="header">
                <div class="header-search">
                    <input type="text">
                    <img src="./img/search.svg" alt="search">
                </div>
                <div class="header-burger">
                    <div class="header-burger__content">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>

                <div class="header-menu">
                    <nav>
                        <a href="#beginning">Начало работы</a>
                        <a href="#createRequestion">Создание заявки на продажу BTC</a>
                        <a href="#paymentСonfirmation">Подтверждение оплаты заявки</a>
                        <a href="#getApplication">Получение списка заявок</a>
                        <a href="#deleteApplication">Удаление группы заявок</a>
                        <a href="#getCourse">Получение актуального курса торговли</a>
                    </nav>
                </div>
            </div>
        </div>
    </header>

    <section class="beginning" id="beginning">
        <div class="container">
            <h2>Начало работы</h2>
            <p><span>{API_url} для обращений - daaweb.com/</span></p>
            <p>Все запросы должны содержать заголовок Autorization: Bearer {token}</p>
        </div>
    </section>

    <div class="container">
        <hr class="separator">
    </div>
    
    <section class="note" id="note">
        <div class="container">
            <h2>Примечание</h2>
            <p>В запросах фигурируют поля <span>custom_id</span> и <span>exchange_id.</span></p>
            <p><span>custom_id</span> - идентификатор группы заявок. С одним <span>custom_id</span> может быть много заявок, это поле задается Вами при создании заявки. При сумме в фиате свыше 50к - заявка автоматически дробится на меньшие суммы и объединяется в группу по <span>custom_id</span></p>
            <p><span>exchange_id</span> - уникальный идентификатор каждой конкретной заявки</p>
            <p>По <span>custom_id</span> группы помечаются успешно оплаченными, по <span>exchange_id</span> - заявки удаляются</p>
        </div>
    </section>

    <div class="container">
        <hr class="separator">
    </div>

    <section class="crud" id="createRequestion">
        <div class="container">
            <h2>Создание заявки на продажу BTC</h2>
            <p class="crud-subtitle"><span>Обращаться на: daaweb.com/createEx0rder/</span></p>

            <div class="crud-container">
                <div class="crud-header" data-id="0">
                    <div class="crud-header__type-post" data-id="0">
                        <p data-id="0">POST</p>
                        <p data-id="0">/custom_id/{id_заявки}/</p>
                    </div>
                    <div class="crud-header__arrow">
                        <img src="./img/arrow.svg" alt="arrow" data-id="0">
                    </div>
                </div>
                <div class="crud-body">
                    <div class="crud-body__text">
                        <div class="crud-body__code">
                            <p>Код</p>
<pre>
{
        custom_id = ...;
        requisites = ...;
        rub_amount = ...;
        live_time = ...;
        direction = ...;
}
</pre>
                        </div>
                        <div class="crud-body__description">
                            <p>Описание</p>
<pre>
Если указан параметр {live_time} - то 
уйдет заявка через время. Если статус 
“Canseled” то она отменена.
</pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="container">
        <hr class="separator">
    </div>

    <section class="crud" id="paymentСonfirmation">
        <div class="container">
            <h2>Подтверждение оплаты заявки</h2>
            <p class="crud-subtitle"><span>Обращаться на: daaweb.com/confirmOperatorExchangeOrderGroup/</span></p>

            <div class="crud-container">
                <div class="crud-header" data-id="1">
                    <div class="crud-header__type-post" data-id="1">
                        <p data-id="1">POST</p>
                        <p data-id="1">/custom_id/{id_заявки}/</p>
                    </div>
                    <div class="crud-header__arrow">
                        <img src="./img/arrow.svg" alt="arrow" data-id="1">
                    </div>
                </div>
                <div class="crud-body">
                    <div class="crud-body__text">
                        <div class="crud-body__code">
                            <p>Код</p>
<pre>
{
        custom_id = ...;
}
</pre>
                        </div>
                        <div class="crud-body__description">
                            <p>Описание</p>
<pre>
Подтвердить оплату группы заявок 
можно только при условии, что все 
заявки в этой группе закрыты 
трейдерами
</pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="container">
        <hr class="separator">
    </div>

    <section class="crud" id="getApplication">
        <div class="container">
            <h2>Получение списка заявок</h2>
            <p class="crud-subtitle"><span>Обращаться на: daaweb.com/getExchangeOrdersSeller/</span></p>

            <div class="crud-container">
                <div class="crud-header" data-id="2">
                    <div class="crud-header__type-get" data-id="2">
                        <p data-id="2">GET</p>
                        <p data-id="2">/custom_id/{id_заявки}/</p>
                    </div>
                    <div class="crud-header__arrow">
                        <img src="./img/arrow.svg" alt="arrow" data-id="2">
                    </div>
                </div>
                <div class="crud-body">
                    <div class="crud-body__text">
                        <div class="crud-body__code">
                            <p>Код</p>
<pre>
{
        status = ...;
        mode = ...;
        amount = ...;
        page_number = ...;
        custom_id = ...;
        requisites = ...;
        date = ...;
}
</pre>
                        </div>
                        <div class="crud-body__description">
                            <p>Описание</p>
<pre>
Возвращает список заявок, поля зависит от
выбранного режима дробления.

Возможные статусы у заявок: Paid - Новая
заявка, Ready - Оплачена полностью, ожидает 
подтверждения (только у групп), Finished - 
завершена.
    
Поле “trader” указывает, взял ли заявку
трейдер или нет (только при mode = alone).
</pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="container">
        <hr class="separator">
    </div>

    <section class="crud" id="deleteApplication">
        <div class="container">
            <h2>Удаление группы заявок</h2>
            <p class="crud-subtitle"><span>Обращаться на: daaweb.com/deleteExchangeOrderGroup/</span></p>

            <div class="crud-container">
                <div class="crud-header" data-id="3">
                    <div class="crud-header__type-get" data-id="3">
                        <p data-id="3">GET</p>
                        <p data-id="3">/custom_id/{id_заявки}/</p>
                    </div>
                    <div class="crud-header__arrow">
                        <img src="./img/arrow.svg" alt="arrow" data-id="3">
                    </div>
                </div>
                <div class="crud-body">
                    <div class="crud-body__text">
                        <div class="crud-body__code">
                            <p>Код</p>
<pre>
{
        group_custom_id = ...;
}
</pre>
                        </div>
                        <div class="crud-body__description">
                            <p>Описание</p>
<pre>
{'status': 'success', ‘deleted_orders’: 
‘1,2,3,4’, ‘not_deleted_orders’: ‘1,2,3,4’} при успешном запросе.

Где ‘deleted_orders‘ - список заявок, которые были успешно 
удалены,‘not_deleted_orders’ - список заявок, которые не были
удалены, по какой-либо ошибке.
    
При удалении группы проверяется каждая заявка в ней. Она 
будет удалена только в том случае, если ни один трейдер ее 
еще не принял в обработку и не отметил успешно оплаченной.
</pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="container">
        <hr class="separator">
    </div>

    <section class="crud" id="getCourse">
        <div class="container">
            <h2>Получение актуального курса торговли</h2>
            <p class="crud-subtitle"><span>Обращаться на: daaweb.com/getActualBtcSaleRate/</span></p>

            <div class="crud-container">
                <div class="crud-header" data-id="4">
                    <div class="crud-header__type-get" data-id="4">
                        <p data-id="4">GET</p>
                        <p data-id="4">/custom_id/{id_заявки}/</p>
                    </div>
                    <div class="crud-header__arrow">
                        <img src="./img/arrow.svg" alt="arrow" data-id="4">
                    </div>
                </div>
                <div class="crud-body">
                    <div class="crud-body__text">
                        <div class="crud-body__code">
                            <p></p>
<pre>

</pre>
                        </div>
                        <div class="crud-body__description">
                            <p>Описание</p>
<pre>
{"status": "success", "curse": "2 786 424"}
</pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="./script/index.js"></script>
</body>
</html>